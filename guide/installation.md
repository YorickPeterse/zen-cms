# Installation

Zen can be installed using either Git or Rubygems. Rubygems is recommended for
production environments as the Git builds may (and usually will) contain bugs.

## Rubygems Installation

Installing Zen using Rubygems is very easy and only takes a single command:

    $ gem install zen

If you want to install a specific version you can do so by setting the -v
option:

    $ gem install zen -v 0.2.8

## Git Installation

When you want to submit a patch, hack the core or are just interested in
browsing the code you'll want to install a copy of the Git repository. This can
be done by a simply cloning the repository:

    $ git clone git://github.com/zen-cms/Zen-Core.git zen-core

This command saves a local copy of Zen in the directory ./zen-core. Now that you
have a local copy there are two ways of using it:

1. Manually build the Gem each time you've made a change.
2. Directly load the Zen installation from your application.

The latter is recommended as you don't have to build the Gem each time. In order
to do this you simply need to replace all calls to require() that load data from
the gem with a path to the local copy of Zen. An example of this can be seen
[here][here].

For an overview of all available tasks that can be executed in your local copy
of Zen execute the following command:

    $ rake -T

## Creating Applications

In order to create a new application based on Zen you'll need to execute the
following command:

    $ zen create NAME

NAME should be the name of your application and will be used as the name of the
directory.  If you were to specify the name "blog" a corresponding directory
would be created in the current directory.

Once an application is created you'll need to edit the default configuration
files found in the config/ directory. The most important file is "database.rb"
and contains all the required settings for connecting to a database.

The prototype applications generated by the zen command are pretty basic but
should be enough for most users. If you want to change anything of it you're
free to do so just make sure that all paths and such are updated correctly.

Once an application has been created and is configured you'll need to create the
database and insert the default user. This can be done by executing the
following commands:

    $ rake db:migrate
    $ rake db:user

This creates all the database tables and inserts a default user with a random
password.

When creating the database tables for the first time you'll see one or two
yellow warnings telling you certain tables might be missing. These can be safely
ignored.

You can now start the application using your favorite server and start using
it.

## Updating Applications

Updating Zen in general is quite easy and requires the following two commands::

    $ gem update zen
    $ rake db:migrate

However, with some releases there may be some extra steps that are required in
order to properly update your installation so it's always wise to check the
release notes before updating an installation.

When updating the database schema I always try to write my migrations in such a
way that existing data is migrated as well. However, because there may be some
cases where this isn't possible it's recommended that you **always** make a
backup of your database before updating.


[app]: https://github.com/zen-cms/Zen-Website/blob/master/app.rb
