<section>
    <header>
        <h1>#{get_breadcrumbs}</h1>
    </header>

    <div class="body">
        <?r if @diff ?>

        <h2>Differences</h2>

        <?r if !@diff.empty? ?>

        <table class="no_sort no_background">
            <tbody>
                <?r @diff.each do |name, diff| ?>
                <tr>
                    <td>#{name}</td>
                    <td>#{diff}</td>
                </tr>
                <?r end ?>
            </tbody>
        </table>

        <?r else ?>

        <p>There are no differences between the two specified revisions.</p>

        <?r end ?>

        <?r end ?>

        <?r if @revisions and !@revisions.empty? ?>

        <h2>
            Revisions for #{Sections::Controller::SectionEntries.a(
              @entry.title,
              :edit,
              @entry.section_id,
              @entry.id
            )}
        </h2>

        <form method="post" action="#{Sections::Controller::Revisions.r(
          :index,
          @entry.section_id,
          @entry.id
        )}">

        <table class="no_sort">
            <thead>
                <tr>
                    <th class="narrow">Old</th>
                    <th class="narrow">New</th>
                    <th>#</th>
                    <th>User</th>
                    <th>Created at</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <?r @revisions.each do |rev| ?>
                <tr>
                    <td>
                        #{old_revision_radio(rev.id, @old_rev_id)}
                    </td>
                    <td>
                        #{new_revision_radio(rev.id, @new_rev_id)}
                    </td>
                    <td>#{rev.id}</td>
                    <td>#{rev.user.name}</td>
                    <td>#{format_date(rev.created_at)}</td>
                    <td>
                        #{Sections::Controller::Revisions.a(
                          'Restore',
                          :restore,
                          rev.id
                        )}
                    </td>
                </tr>
                <?r end ?>
            </tbody>
        </table>

        <input type="submit" class="button" value="Compare" />

        </form>

        <?r else ?>

        <p>There are no revisions for this entry.</p>

        <?r end ?>
    </div>
</section>
