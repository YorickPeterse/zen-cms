<article>
    <header>
        <h1>#{get_breadcrumbs}</h1>
    </header>

    <?r if !@user_group.id.nil? ?>
    <div class="tabs">
        <ul>
            <li>
                <a href="#user_group_tab"
                title="#{lang('user_groups.titles.edit')}">
                    #{lang('user_groups.titles.edit')}
                </a>
            </li>

            <?r if user_authorized?([:show_permission]) ?>
            <li>
                <a href="#permissions"
                title="#{lang('permissions.titles.index')}">
                    #{lang('permissions.titles.index')}
                </a>
            </li>
            <?r end ?>
        </ul>
    </div>
    <?r end ?>

    #{form_for(
      @user_group,
      :method => :post,
      :action => Users::Controller::UserGroups.r(:save),
      :id     => :user_group_form
    ) do |f|
      f.input_hidden(:id, @user_group.id)
      f.input_hidden(:csrf_token, get_csrf_token)

      f.g.div(:id => 'user_group_tab') do
        f.input_text(
          lang('user_groups.labels.name'),
          :name
        )

        f.input_text(
          lang('user_groups.labels.slug'),
          :slug
        )

        f.input_radio(
          lang('user_groups.labels.super_group'),
          :super_group,
          @user_group.super_group,
          :values => @boolean_hash.invert
        )

        f.textarea(
          lang('user_groups.labels.description'),
          :description,
          :rows => 10
        )
      end

      if user_authorized?([:show_permission])
        f.g.div(:id => 'permissions') do
          render_file(__DIR__('../users/permissions.xhtml'))
        end
      end

      f.g.div(:class => 'button') do
        f.g.input(
          :type  => 'submit',
          :value => lang('user_groups.buttons.save')
        )
      end
    end}
</article>
