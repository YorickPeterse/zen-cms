<article>
    <header>
        <h1>#{get_breadcrumbs}</h1>
    </header>
    
    #{
      form_for(
        @comment, 
        :method => :post, 
        :action => Comments::Controller::Comments.r(:save), 
        :id     => :comment_form
      ) do |f|
        f.input_hidden(:csrf_token, get_csrf_token)
        f.input_hidden(:id        , @comment.id)
        
        if !@comment.user
          name    = @comment.name
          website = @comment.website
          email   = @comment.email
        else
          name    = @comment.user.name
          website = @comment.user.website
          email   = @comment.user.email
        end
        
        f.input_text(
          lang('comments.labels.name'), 
          :name, 
          :value    => name, 
          :disabled => :disabled
        )

        f.input_text(
          lang('comments.labels.website'), 
          :website, 
          :value => website
        )
        
        f.input_text(
          lang('comments.labels.email'), 
          :email, 
          :value => email
        )
        
        f.select(
          lang('comments.labels.status'), 
          :comment_status_id, 
          :values   => Comments::Model::Comment.status_hash,
          :selected => @comment.comment_status_id,
          :size     => 1
        )
        
        f.textarea(
          lang('comments.labels.comment'), 
          :comment, 
          :rows => 10
        )
        
        f.g.div(:class => 'button') do
          f.g.input(:type => 'submit', :value => lang('comments.buttons.save'))
        end
      end
    }
</article>
